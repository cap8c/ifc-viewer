<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IFC Viewer</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> <!-- Link to Material Icons -->
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #f5f5f5, #e0e0e0); /* Apply gradient to body */
        }

        #myCanvas {
            width: 100%; /* Canvas takes full width */
            height: 100%;
            background-color: transparent; /* Ensure no background color on canvas */
        }

        #treeViewContainer {
            position: fixed;
            top: 0;
            left: -25%;
            width: 25%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            transition: left 0.3s ease;
            overflow-y: scroll;
            z-index: 1000;
            padding-top: 60px;
        }

        #toggleButton {
            position: absolute;
            top: 20px;
            left: 20px;
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            z-index: 1001;
        }

        #toggleButton i {
            font-size: 24px; /* Adjust icon size as needed */
        }

        #toggleButton:hover {
            background-color: #0056b3;
        }

        /* NavCube Canvas with a distinct background color */
        #myNavCubeCanvas {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 150px;
            height: 150px;
            z-index: 1001;
            background-color: transparent; /* Red with 50% opacity */
        }

    </style>
</head>
<body>

<!-- Button to toggle the tree view -->
<button id="toggleButton" onclick="toggleTreeView()">
    <i class="material-icons">segment</i> <!-- Google Material segment list icon -->
</button>

<!-- Tree view container -->
<div id="treeViewContainer"></div>

<!-- Main canvas for the 3D model -->
<canvas id="myCanvas"></canvas>

<!-- Canvas for NavCube -->
<canvas id="myNavCubeCanvas"></canvas>

<!-- Include the modular scripts -->
<script type="module" src="viewerSetup.js"></script>
<script type="module" src="uiHandlers.js"></script>
<script type="module" src="main.js"></script>

<script>
    function toggleTreeView() {
        const treeViewContainer = document.getElementById('treeViewContainer');
        if (treeViewContainer.style.left === '0px') {
            treeViewContainer.style.left = '-25%'; // Hide off-screen
        } else {
            treeViewContainer.style.left = '0px'; // Show on-screen
        }
    }

    
    // Improve NavCube text sharpness
    const navCubeCanvas = document.getElementById("myNavCubeCanvas");
    const scale = window.devicePixelRatio; // Get the device's pixel ratio
    navCubeCanvas.width = 100 * scale; // Set higher resolution width
    navCubeCanvas.height = 100 * scale; // Set higher resolution height
    const ctx = navCubeCanvas.getContext('2d');
    ctx.scale(scale, scale); // Scale the context to the device pixel ratio
</script>

</body>
</html>
